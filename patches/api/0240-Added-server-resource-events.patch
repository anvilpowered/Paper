From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jake Potrebic <jake.m.potrebic@gmail.com>
Date: Wed, 2 Dec 2020 20:04:16 -0800
Subject: [PATCH] Added server resource events

* ServerResourcesReloadEvent
* ServerResourcesLoadEvent

diff --git a/src/main/java/io/papermc/paper/event/server/ServerResourcesLoadEvent.java b/src/main/java/io/papermc/paper/event/server/ServerResourcesLoadEvent.java
new file mode 100644
index 0000000000000000000000000000000000000000..6a39b263de9bc7f2e05a3303b520604a27f0a94a
--- /dev/null
+++ b/src/main/java/io/papermc/paper/event/server/ServerResourcesLoadEvent.java
@@ -0,0 +1,32 @@
+package io.papermc.paper.event.server;
+
+import org.bukkit.event.HandlerList;
+import org.bukkit.event.server.ServerEvent;
+import org.jetbrains.annotations.ApiStatus;
+import org.jetbrains.annotations.NotNull;
+
+/**
+ * Called when resources such as datapacks are loaded (e.g. /minecraft:reload)
+ * <p>
+ *     Intended for use to register custom recipes, advancements, and commands.
+ *     This is fired on reload as well.
+ * </p>
+ */
+public class ServerResourcesLoadEvent extends ServerEvent {
+
+    public static final HandlerList HANDLER_LIST = new HandlerList();
+
+    @ApiStatus.Internal
+    public ServerResourcesLoadEvent() {
+    }
+
+    public static @NotNull HandlerList getHandlerList() {
+        return HANDLER_LIST;
+    }
+
+    @Override
+    public @NotNull HandlerList getHandlers() {
+        return HANDLER_LIST;
+    }
+
+}
diff --git a/src/main/java/io/papermc/paper/event/server/ServerResourcesReloadedEvent.java b/src/main/java/io/papermc/paper/event/server/ServerResourcesReloadedEvent.java
new file mode 100644
index 0000000000000000000000000000000000000000..a7ed7d6b6469e175d3949ffa9c502cbfde609215
--- /dev/null
+++ b/src/main/java/io/papermc/paper/event/server/ServerResourcesReloadedEvent.java
@@ -0,0 +1,34 @@
+package io.papermc.paper.event.server;
+
+import org.jetbrains.annotations.ApiStatus;
+import org.jetbrains.annotations.NotNull;
+
+/**
+ * Called when resources such as datapacks are reloaded (e.g. /minecraft:reload)
+ * <p>
+ * Intended for use to re-register custom recipes, advancements that may be lost during a reload like this.
+ */
+public class ServerResourcesReloadedEvent extends ServerResourcesLoadEvent {
+
+    private final Cause cause;
+
+    @ApiStatus.Internal
+    public ServerResourcesReloadedEvent(@NotNull Cause cause) {
+        this.cause = cause;
+    }
+
+    /**
+     * Gets the cause of the resource reload.
+     *
+     * @return the reload cause
+     */
+    public @NotNull Cause getCause() {
+        return this.cause;
+    }
+
+    public enum Cause {
+        COMMAND,
+        PLUGIN,
+    }
+}
